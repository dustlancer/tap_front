import{E as g,_ as x,o as i,c as p,G as k,m as I,r as m,q as h,H as T,a as e,b as d,w as _,l as S,t as w,v as $,I as C,D as y,J as B}from"./DIdVoVMo.js";import{_ as L}from"./es4o-QjB.js";import{u as j}from"./Cxjd3_tQ.js";import{u as U}from"./Mot242u_.js";const D=g("/maintance_coin.png"),E=g("/maintance_no_coin.png"),M={class:"flex flex-col items-center justify-center h-screen bg-gradient-to-b from-blue-900 to-gray-800 text-white"},N={__name:"MaintenanceScreen",setup(f){return(t,n)=>(i(),p("div",M,n[0]||(n[0]=[k('<div class="text-center" data-v-4c814ab7><div class="relative flex" data-v-4c814ab7><img src="'+D+'" alt="Maintenance Image" class="w-[90px] absolute top-[15px] left-[45px] z-10 floating" data-v-4c814ab7><img src="'+E+'" alt="Maintenance Image" class="w-[300px] mb-4 mx-auto z-20" data-v-4c814ab7></div><h2 class="text-4xl font-bold mb-4" data-v-4c814ab7>–ë–æ—Ç –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏</h2><p class="text-lg" data-v-4c814ab7>–ò–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞.<br data-v-4c814ab7>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–π–¥–∏—Ç–µ –ø–æ–∑–∂–µ.</p></div>',1)])))}},H=x(N,[["__scopeId","data-v-4c814ab7"]]),O=g("/dirty_city_bg.png"),z={class:"flex flex-col items-center justify-center h-screen bg-gradient-to-b from-blue-900 to-gray-800 text-white"},A={__name:"LoadingScreen",setup(f){return(t,n)=>(i(),p("div",z,n[0]||(n[0]=[k('<div class="text-center relative" data-v-74868bad><img src="'+O+'" alt="Loading Image" class="w-[500px] pt-10 mb-4" data-v-74868bad><div class="loader-info absolute bottom-0 w-full" data-v-74868bad><div class="loader mb-2 mx-auto" data-v-74868bad></div><h2 class="text-2xl font-bold" data-v-74868bad>–ó–∞–≥—Ä—É–∑–∫–∞...</h2></div></div>',1)])))}},V=x(A,[["__scopeId","data-v-74868bad"]]),J=Symbol.for("nuxt:client-only"),P=I({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(f,{slots:t,attrs:n}){const l=m(!1);return h(()=>{l.value=!0}),T(J,!0),r=>{var c;if(l.value)return(c=t.default)==null?void 0:c.call(t);const o=t.fallback||t.placeholder;if(o)return o();const s=r.fallback||r.placeholder||"",u=r.fallbackTag||r.placeholderTag||"span";return p(u,n,s)}}}),q={name:"Navbar"},F={class:"fixed bottom-0 left-0 w-full bg-gray-800 text-white py-3 shadow-md z-50"},G={class:"flex justify-around px-2 py-0"};function R(f,t,n,l,r,o){const s=L;return i(),p("nav",F,[e("div",G,[d(s,{to:"/tasks",class:"nav-item"},{default:_(()=>t[0]||(t[0]=[e("span",{class:"icon"},"üìã",-1),e("span",null,"–ó–∞–¥–∞—á–∏",-1)])),_:1}),d(s,{to:"/upgrade",class:"nav-item"},{default:_(()=>t[1]||(t[1]=[e("span",{class:"icon"},"üí™",-1),e("span",null,"–ü—Ä–æ–∫–∞—á–∫–∞",-1)])),_:1}),d(s,{to:"/",class:"nav-item"},{default:_(()=>t[2]||(t[2]=[e("span",{class:"icon"},"‚õèÔ∏è",-1),e("span",null,"–ú–∞–π–Ω–∏–Ω–≥",-1)])),_:1}),d(s,{to:"/friends",class:"nav-item"},{default:_(()=>t[3]||(t[3]=[e("span",{class:"icon"},"üë•",-1),e("span",null,"–î—Ä—É–∑—å—è",-1)])),_:1}),d(s,{to:"/airdrop",class:"nav-item"},{default:_(()=>t[4]||(t[4]=[e("span",{class:"icon"},"üéÅ",-1),e("span",null,"AirDrop",-1)])),_:1})])])}const K=x(q,[["render",R],["__scopeId","data-v-db46ae3d"]]),Q=g("/coin.png"),W={class:"flex flex-col items-center space-x-2 relative"},X=["src"],Y={class:"flex flex-col text-sm font-bold"},Z={class:"flex flex-col items-start"},tt={class:"flex items-center space-x-1 font-bold w-7"},et={__name:"TopBar",setup(f){const t=j(),n=m("default_avatar.png"),l=m(0),r=m(0),o=S(()=>t.local_coins);function s(){t.avatar_url&&(n.value=t.avatar_url),l.value=t.level.level_number,r.value=t.mining_speed,o.value=t.coins,v.value=t.user_id}async function u(){const c={id:454338166,first_name:"–ê–Ω–¥—Ä–µ–π",last_name:"",username:"paenny",language_code:"ru",allows_write_to_pm:!0};try{const a=await fetch("http://dustlancer.keenetic.pro:44427/telegram/init/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(a.ok){const b=await a.json();alert("ok"),t.setUserData(b),console.log("User data sent successfully:",b)}else console.error("Failed to send user data:",a.status)}catch(a){alert(a),console.error("Error:",a)}}return h(async()=>{s()}),(c,a)=>(i(),p("div",{class:"fixed flex top-0 w-full justify-between items-center p-4 py-1 bg-gray-800 text-white z-50",onClick:a[0]||(a[0]=(...b)=>c.get_avatar&&c.get_avatar(...b))},[e("div",W,[e("img",{src:n.value,alt:"User Avatar",class:"w-12 h-12 rounded-full object-cover"},null,8,X),e("div",Y,[e("span",null,w(l.value)+" —É—Ä.",1)])]),e("div",Z,[a[2]||(a[2]=e("span",{class:"font-thin text-sm"},"–ë–∞–ª–∞–Ω—Å",-1)),e("div",tt,[a[1]||(a[1]=e("img",{src:Q,alt:"Coin Icon",class:"w-6 h-6"},null,-1)),e("span",null,w($(o)),1)])]),e("button",{class:"bg-blue-600 px-4 py-2 rounded text-sm hover:bg-blue-700",onClick:u}," –í–∞—É—á–µ—Ä—ã ")]))}},at=x(et,[["__scopeId","data-v-90c51338"]]),rt={__name:"default",setup(f){U({script:[{src:"https://telegram.org/js/telegram-web-app.js",defer:!0}]});const t=m(!1),n=j();function l(o){const s=o.target.closest(".scrollable");s&&s.scrollHeight>s.clientHeight||o.preventDefault()}h(async()=>{await n.fetchUserData(),document.addEventListener("touchmove",l,{passive:!1})});const r=S(()=>n.isLoading);return C(()=>{document.removeEventListener("touchmove",l)}),(o,s)=>{const u=H,c=V,a=P;return i(),p("div",null,[e("main",null,[t.value?(i(),y(u,{key:0})):$(r)?(i(),y(c,{key:1})):(i(),y(a,{key:2},{default:_(()=>[d(at),B(o.$slots,"default"),d(K)]),_:3}))])])}}};export{rt as default};
